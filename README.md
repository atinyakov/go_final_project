# Финальное задание на курсе Go от Яндекс Практикум

## Описание проекта

Этот проект создан как финальное задание на курсе разработки на Go от Яндекс Практикум. Он представляет собой веб-приложение для управления задачами, поддерживающее назначение задач на указанные дни недели и фильтрацию задач с помощью строки поиска. В проекте реализован механизм аутентификации и возможность работы с задачами через переменные окружения. Приложение можно запускать локально или в контейнере Docker.

# Описание директорий и файлов

-   **`/main`**: Содержит main.go приложения.
-   **`/internal`**: Содержится функции для сетапа и запуска приложение, а так же роутер.
-   **`/controllers`**: Здесь хранятся контроллеры, отвечающие за обработку HTTP-запросов. Каждый контроллер отвечает за определенную часть функционала.
-   **`/models`**: Содержит структуры данных и модели, которые представляют сущности в приложении, такие как задачи.
-   **`/services`**: Здесь реализована бизнес-логика приложения. Сервисы взаимодействуют с контроллерами и моделями, выполняя операции над данными.
-   **`/nextdate`**: Директория для функций, связанных с вычислением дат, которые могут использоваться в приложении, например, для задач, назначенных на определенные дни.
-   **`/tests`**: Содержит тесты для различных компонентов вашего приложения, включая настройки для тестирования.
-   **`/web`**: В этой директории хранятся статические файлы фронтенда, такие как HTML и CSS.

## Задачи со звездочкой

Проект включает следующие задания повышенной сложности:

-   **Поддержка переменных окружения**: Приложение считывает несколько переменных окружения:
    -   `TODO_PORT`: Порт, на котором запускается веб-сервер (например, `7540`).
    -   `TODO_DBFILE`: Имя файла базы данных (например, `scheduler.db`).
    -   `TODO_PASSWORD`: Пароль для аутентификации пользователей.
-   **Назначение задач на дни недели**: Задачи могут быть назначены на указанные дни недели (1 — понедельник, 7 — воскресенье).
-   **Фильтрация задач**: Есть возможность искать задачи с помощью строки поиска.
-   **Аутентификация**: Реализован механизм аутентификации пользователей.
-   **Docker**: Приложение собрано в Docker-образ, который включает веб-сервер.

## Запуск проекта локально

### Шаги для запуска:

1. Склонируйте репозиторий:

    ```bash
    git clone <URL вашего репозитория>
    cd <название папки>
    ```

2. Настройте файл `.env`. Пример:

    ```env
    TODO_PORT="7540"
    TODO_DBFILE="scheduler.db"
    TODO_PASSWORD="321"
    ```

3. Запустите приложение с помощью Go:

    ```bash
    go run .
    ```

4. Откройте браузер и перейдите по адресу:
    ```
    http://localhost:7540
    ```

### Дополнительные флаги

-   Если необходимо изменить порт, вы можете указать его в переменной окружения `TODO_PORT` в файле `.env`.
-   База данных по умолчанию берётся из файла `scheduler.db`, но путь можно изменить через переменную `TODO_DBFILE`.

## Запуск тестов

Для запуска тестов выполните следующую команду:

```bash
go test ./tests -v
```

Для очистки кэша перед повторными тестами:

```bash
go clean -testcache
```

### Параметры для тестов:

В файле `tests/settings.go` можно настроить параметры тестирования, такие как путь к базе данных или параметры аутентификации.

## Сборка и запуск проекта через Docker

1. Постройте Docker-образ:

    ```bash
    docker build -t my_go_project .
    ```

2. Запустите контейнер, пробросив порты:

    ```bash
    docker run -d -p 7540:7540 my-app:v1
    ```

3. Откройте браузер и перейдите по адресу:
    ```
    http://localhost:7540
    ```

Docker-образ включает все необходимые зависимости и файлы для запуска Go-приложения и фронтенда.
